<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PT Management System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ‹ï¸ PT Management System</h1>
            <p>Streamline your unit's physical training coordination</p>
        </div>

        <div class="main-content">
            <div class="section">
                <h2>ğŸ‘¥ Unit Setup</h2>
                <label for="unitName">Unit Name:</label>
                <input type="text" id="unitName" value="73 ISRS Det 6" readonly>
                <br><br>
                <label for="memberFile">Upload Member List (.csv, .txt):</label>
                <input type="file" id="memberFile" accept=".csv,.txt">
                <br><br>
                <input type="text" id="newMember" placeholder="New member name">
                <label for="isPTLeader"><input type="checkbox" id="isPTLeader"> PT Leader</label>
                <button class="btn" id="addMemberBtn">Add</button>
                <button class="btn btn-secondary" id="toggleMembersBtn" style="display: none;">Hide Members</button>
                <div id="memberManagement" class="member-list"></div>
            </div>

            <div class="section">
                <h2>ğŸ¯ PT Assignment</h2>
                <label for="ptDate">Date:</label>
                <input type="date" id="ptDate"><br><br>
                <label for="ptLeader">PT Leader:</label>
                <select id="ptLeader"></select>
                <button class="btn" id="randomLeaderBtn">Random</button>
                <br><br>
                <label for="ptLocation">Location:</label>
                <select id="ptLocation">
                    <option value="Gaffney Gym">Gaffney Gym</option>
                    <option value="Eagle Fitness">Eagle Fitness</option>
                    <option value="Parade Field">Parade Field</option>
                    <option value="custom">Custom</option>
                </select>
                <input type="text" id="customLocation" placeholder="Enter custom location" style="display:none;">
                <br><br>
                <label for="ptTime">Time:</label>
                <input type="time" id="ptTime" value="06:30">
            </div>

            <div class="section">
                <h2>ğŸ’ª Workout Management</h2>
                <div id="workoutHistory" class="workout-history">
                    <h3>Workout History</h3>
                    <ul id="workoutHistoryList"></ul>
                </div>
                <h3>ğŸ“ Upload Workout File</h3>
                <p>Upload a workout file (.txt, .md) to add to history and set as today's workout.</p>
                <input type="file" id="workoutFile" accept=".txt,.md" style="margin-bottom: 10px;">
                <h3>ğŸ¤– AI Workout Generator</h3>
                <p>Describe the kind of workout you want.</p>
                <div id="aiChatContainer">
                    <div id="chatBox"></div>
                    <div class="chat-input-area">
                        <input type="text" id="aiPromptInput" placeholder="e.g., 'A 30-min cardio workout for a rainy day'">
                        <button class="btn" id="sendPromptBtn">Ask AI</button>
                    </div>
                </div>
                <h3>ğŸ“ Manual Workout Entry</h3>
                <div class="manual-workout-container">
                    <textarea id="manualWorkoutInput" placeholder="Enter your workout plan here...&#10;&#10;Example:&#10;Warm-up (10 mins):&#10;- Light jogging&#10;- Dynamic stretches&#10;&#10;Main workout (30 mins):&#10;- 3 sets of 20 push-ups&#10;- 3 sets of 15 squats&#10;- 2 sets of 1-minute planks" rows="10"></textarea>
                    <button class="btn" id="setManualWorkoutBtn">Set as Today's Workout</button>
                </div>
                <h3>Today's Workout</h3>
                <div id="workoutContent" class="workout-display"></div>
            </div>

            <div class="section">
                <h2>âœ… Accountability Roster</h2>
                <div class="btn-group">
                    <button class="btn" id="todayRosterBtn">Today's Roster</button>
                    <button class="btn btn-secondary" id="rosterHistoryBtn">Roster History</button>
                </div>

                <div id="todayRosterContent">
                    <h3>Today's Attendance</h3>
                    <div id="attendanceList" class="member-list"></div>
                </div>

                <div id="rosterHistoryContent" style="display: none;">
                    <h3>Attendance History</h3>
                    <div id="attendanceHistory"></div>
                </div>
            </div>

            <div class="section" id="report-section">
                <h2>ğŸ“‹ Generate Report</h2>
                <button class="btn" id="generateReportBtn">Generate</button>
                <button class="btn" id="copyReportBtn" style="display:none;">Copy to Clipboard</button>
                <pre id="reportOutput"></pre>
            </div>
        </div>
    </div>

    <!-- Firebase SDK v9 Compat - Use only these -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <script src="script.js"></script>
</body>
</html>
