<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PT Management System</title>
    <style>
        /* Add your original styles here - restoring full UI */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        .main-content {
            padding: 40px;
        }
        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #3498db;
        }
        label, input, select, button {
            font-size: 16px;
        }
        .btn {
            padding: 10px 20px;
            border-radius: 6px;
            background: #3498db;
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 10px;
        }
        .btn:hover {
            background: #2980b9;
        }
        .member-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
        }
        .member-item {
            background: white;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèãÔ∏è PT Management System</h1>
            <p>Streamline your unit's physical training coordination</p>
        </div>

        <div class="main-content">
            <div class="section">
                <h2>üë• Unit Setup</h2>
                <input type="text" id="unitName" value="73 ISRS Det 6" readonly>
                <br><br>
                <input type="file" id="memberFile" accept=".csv,.txt" onchange="uploadMemberList()">
                <br><br>
                <input type="text" id="newMember" placeholder="New member name">
                <label><input type="checkbox" id="isPTLeader"> PT Leader</label>
                <button class="btn" onclick="addMember()">Add</button>
                <div id="memberManagement"></div>
            </div>

            <div class="section">
                <h2>üéØ PT Assignment</h2>
                <label>Date: <input type="date" id="ptDate"></label><br><br>
                <label>PT Leader:
                    <select id="ptLeader"></select>
                    <button class="btn" onclick="assignRandomLeader()">Random</button>
                </label><br><br>
                <label>Location:
                    <select id="ptLocation">
                        <option value="Gaffney Gym">Gaffney Gym</option>
                        <option value="Eagle Fitness">Eagle Fitness</option>
                        <option value="Parade Field">Parade Field</option>
                        <option value="custom">Custom</option>
                    </select>
                </label>
                <input type="text" id="customLocation" placeholder="Enter custom location" style="display:none;">
                <br><br>
                <label>Time: <input type="time" id="ptTime" value="06:30"></label>
            </div>

            <div class="section">
                <h2>üí™ Workout Management</h2>
                <label>Workout Type:
                    <select id="workoutType">
                        <option value="cardio">Cardio</option>
                        <option value="strength">Strength</option>
                        <option value="mixed">Mixed</option>
                    </select>
                </label>
                <label>Intensity:
                    <select id="workoutIntensity">
                        <option value="light">Light</option>
                        <option value="moderate">Moderate</option>
                        <option value="intense">Intense</option>
                    </select>
                </label>
                <label>Duration: <input type="number" id="workoutDuration" value="60"></label>
                <button class="btn" onclick="generateWorkout()">Generate AI Workout</button>
                <div id="workoutContent"></div>
            </div>

            <div class="section">
                <h2>üìã Generate Report</h2>
                <button class="btn" onclick="generateReport()">Generate</button>
                <pre id="reportOutput"></pre>
            </div>
        </div>
    </div>

    <script>
        let members = [];

        function init() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('ptDate').value = today;
            document.getElementById('ptLocation').addEventListener('change', function () {
                document.getElementById('customLocation').style.display = this.value === 'custom' ? 'block' : 'none';
            });
            const saved = localStorage.getItem('ptMembers');
            if (saved) members = JSON.parse(saved);
            updateUI();
        }

        function addMember() {
            const name = document.getElementById('newMember').value.trim();
            const isPTLeader = document.getElementById('isPTLeader').checked;
            if (name && !members.some(m => m.name === name)) {
                members.push({ name, isPTLeader });
                saveData();
                updateUI();
            }
        }

        function uploadMemberList() {
            const file = document.getElementById('memberFile').files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function (e) {
                const lines = e.target.result.split('\n');
                lines.forEach(line => {
                    const [name, tag] = line.split(',').map(x => x.trim());
                    if (name && !members.some(m => m.name === name)) {
                        members.push({ name, isPTLeader: tag?.toLowerCase() === 'pt' });
                    }
                });
                saveData();
                updateUI();
            };
            reader.readAsText(file);
        }

        function assignRandomLeader() {
            const leaders = members.filter(m => m.isPTLeader);
            if (leaders.length === 0) return;
            const random = leaders[Math.floor(Math.random() * leaders.length)];
            document.getElementById('ptLeader').value = random.name;
        }

        function generateWorkout() {
            const type = document.getElementById('workoutType').value;
            const intensity = document.getElementById('workoutIntensity').value;
            const workouts = {
                cardio: {
                    light: 'Light jog and stretching.',
                    moderate: 'Interval running + sprints.',
                    intense: 'HIIT + distance run.'
                },
                strength: {
                    light: 'Bodyweight circuits.',
                    moderate: 'Push/pull core workout.',
                    intense: 'Heavy strength circuit.'
                },
                mixed: {
                    light: 'Walk and light core.',
                    moderate: 'Run + strength mix.',
                    intense: 'Sprint/circuit/abs.'
                }
            };
            document.getElementById('workoutContent').textContent = workouts[type][intensity];
        }

        function generateReport() {
            const name = document.getElementById('unitName').value;
            const date = document.getElementById('ptDate').value;
            let loc = document.getElementById('ptLocation').value;
            if (loc === 'custom') loc = document.getElementById('customLocation').value;
            const time = document.getElementById('ptTime').value;
            const leader = document.getElementById('ptLeader').value;
            const workout = document.getElementById('workoutContent').textContent;

            const report = `PT Report - ${name}\nDate: ${date}\nTime: ${time}\nLocation: ${loc}\nLeader: ${leader}\nWorkout:\n${workout}`;
            document.getElementById('reportOutput').textContent = report;
        }

        function saveData() {
            localStorage.setItem('ptMembers', JSON.stringify(members));
        }

        function updateUI() {
            const div = document.getElementById('memberManagement');
            const leaderSelect = document.getElementById('ptLeader');
            div.innerHTML = '';
            leaderSelect.innerHTML = '<option value="">Select PT Leader</option>';
            members.forEach(({ name, isPTLeader }) => {
                div.innerHTML += `<div>${name}${isPTLeader ? ' ‚≠ê' : ''}</div>`;
                if (isPTLeader) {
                    const option = document.createElement('option');
                    option.value = name;
                    option.textContent = name;
                    leaderSelect.appendChild(option);
                }
            });
        }

        window.onload = init;
    </script>
</body>
</html>
